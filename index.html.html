<!DOCTYPE html>
<html>
<head>
<title>Pixel Pirates</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Leaflet Map -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:url("https://images.unsplash.com/photo-1505678261036-a3fcc5e884ee") no-repeat center center/cover;
}

.overlay{
background:rgba(0,0,0,0.75);
min-height:100vh;
}

/* LOGIN PAGE */
#loginPage{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.login-box{
background:rgba(255,255,255,0.1);
padding:30px;
border-radius:15px;
text-align:center;
color:white;
backdrop-filter:blur(10px);
width:300px;
}

.login-box input{
width:90%;
padding:10px;
margin:10px 0;
border:none;
border-radius:5px;
}

.login-box button{
padding:10px 20px;
background:#f39c12;
border:none;
color:white;
cursor:pointer;
border-radius:5px;
}

#error{
color:red;
}

/* DASHBOARD */
#dashboard{
display:none;
color:white;
padding:20px;
}

nav{
display:flex;
justify-content:space-between;
background:#111;
padding:15px;
}

.section{
display:none;
margin-top:20px;
}

.active{
display:block;
}

.card{
background:rgba(255,255,255,0.1);
padding:15px;
margin:10px 0;
border-radius:10px;
}

button.filter{
margin:5px;
padding:8px 15px;
border:none;
border-radius:5px;
cursor:pointer;
background:#f39c12;
color:white;
cursor:pointer;
}

video{
border-radius:10px;
border:2px solid #f39c12;
}
</style>
</head>

<body>
<div class="overlay">

<!-- LOGIN PAGE -->
<div id="loginPage">
<div class="login-box">
<h2>üè¥‚Äç‚ò†Ô∏è Pixel Pirates</h2>
<p>Owner Login</p>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<br>
<button onclick="login()">Login</button>
<p id="error"></p>
</div>
</div>

<!-- DASHBOARD -->
<div id="dashboard">

<nav>
<div>‚öì Pixel Pirates Control Panel</div>
<div>
<button onclick="showSolar()">Solar</button>
<button onclick="showAnimal()">Animal</button>
</div>
</nav>

<!-- SOLAR DASHBOARD -->
<div id="solar" class="section active">
<h2>Solar Monitoring</h2>
<div class="card">Current Power: 850 kW</div>
<div class="card">Battery Level: 78%</div>
<div class="card">Grid Status: Stable</div>

<h3>Kerala Location Map</h3>
<div id="map" style="height:300px;"></div>
</div>

<!-- ANIMAL DASHBOARD -->
<div id="animal" class="section">
<h2>Animal Detection Dashboard</h2>

<button class="filter" onclick="filterAnimal('small')">Small</button>
<button class="filter" onclick="filterAnimal('medium')">Medium</button>
<button class="filter" onclick="filterAnimal('large')">Large</button>

<div id="animalList">
<div class="card small">üêá Rabbit - Small Animal</div>
<div class="card medium">üêï Dog - Medium Animal</div>
<div class="card large">üêò Elephant - Large Animal</div>
</div>

<h3>Live Laptop Camera</h3>
<video id="camera" width="400" height="300" autoplay playsinline></video>
<br><br>
<button onclick="startCamera()">Start Camera</button>
<button onclick="stopCamera()">Stop Camera</button>

</div>

</div>
</div>

<script>

/* LOGIN */
function login(){
let u=document.getElementById("username").value.trim();
let p=document.getElementById("password").value.trim();

if(u==="admin" && p==="1234"){
document.getElementById("loginPage").style.display="none";
document.getElementById("dashboard").style.display="block";
initMap();
}
else{
document.getElementById("error").innerText="Invalid Username or Password";
}
}

/* SWITCH DASHBOARD */
function showSolar(){
document.getElementById("solar").classList.add("active");
document.getElementById("animal").classList.remove("active");
}

function showAnimal(){
document.getElementById("animal").classList.add("active");
document.getElementById("solar").classList.remove("active");
}

/* ANIMAL FILTER */
function filterAnimal(type){
let cards=document.querySelectorAll("#animalList .card");
cards.forEach(card=>{
card.style.display="none";
if(card.classList.contains(type)){
card.style.display="block";
}
});
}

/* KERALA MAP */
function initMap(){
var map=L.map('map').setView([10.8505,76.2711],7);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
attribution:'¬© OpenStreetMap'
}).addTo(map);

L.marker([10.8505,76.2711]).addTo(map)
.bindPopup("Kerala - Solar Monitoring Location")
.openPopup();
}

/* LIVE CAMERA */
let stream;

function startCamera(){
navigator.mediaDevices.getUserMedia({ video: true })
.then(function(s){
stream = s;
document.getElementById("camera").srcObject = stream;
})
.catch(function(error){
alert("Camera access denied or not available");
});
}

function stopCamera(){
if(stream){
let tracks = stream.getTracks();
tracks.forEach(track => track.stop());
document.getElementById("camera").srcObject = null;
}
}

</script>

</body>
</html>
